<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Project</title>
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- THƯ VIỆN CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style>
        .title {
            color: red;
            font-weight: bold;
            font-size: 20px;
        }

        .light {
            font-size: 200px;
        }
    </style>
</head>

<body>
    <h1 class="light text-warning" id="light"><i class="fas fa-lightbulb"></i></h1>
    <button id="btnLight" type="button" class="btn btn-success">CÔNG TẮC ĐÈN</button> 
    <button id="btnCapNhat" type="button" class="btn btn-success">DOC TRANG THAI</button>
    <!-- BEGIN CODE -->
    <h1 id="text">TAPIT IOT K13 2-6 H1</h1>
    <!-- <h2 class="title">TAPIT IOT K13 2-6 H2</h2>
    <h6>TAPIT IOT K13 2-6 H6</h6>
    <p class="title">Lorem ipsum dolor, <br>sit amet consectetur adipisicing elit. Ullam quaerat ipsum rem alias!
        Voluptatibus necessitatibus eaque eos molestiae magni, at expedita, quibusdam vitae architecto inventore
        praesentium, officia error iure iste?</p>
    <a href="http://mculearning.com">Click vào đây</a>
    <img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/mothers-day-flower-bouquet-1588610191.jpg?crop=1.00xw:0.892xh;0,0.108xh&resize=1200:*"
        alt="logo" width="200px">

    <button>CLICK HERE</button> -->
    <button id="clickBtn" type="button" class="btn btn-success">click here</button> 
    <button id="btnChange" type="button" class="btn btn-success">HELLO WORLD</button> 
    
    

    <form>
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1">
        </div>
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="exampleCheck1">Check me out</label>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>

    <!-- END CODE -->
    <!-- THƯ VIỆN JAVASCRIPT -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js" integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ==" crossorigin="anonymous"></script>
    
    <script>
       /* var name = 1234;
        var name2 = 'abcd';
        var array = [2, 4, 3, 5, 'trung', 'tapit'];
        var obj = {
            name: 'trung',
            company: 'tapit',
            special: 'it'
        }

        var tinhtong = function(a, b) {
            return a+b;
        }

        // let tinhtong = (a, b) => {
        //     return a+b;
        // }
        // console.log(name);
        // console.log(array.length);
        // console.log(obj.name);
        // console.log(tinhtong(2, 4));
        var a = 1;

        // document.getElementById('clickBtn').onclick = function() {
        //     a += 1;
        //     console.log(a);
        // }

        // document.getElementById('btnChange').onclick = function() {
        //     document.getElementById('text').innerHTML = 'HELLO WORLD';
        // }

        document.getElementById('btnLight').onclick = function() {
            if(document.getElementById('light').classList.contains('text-warning')) {
                document.getElementById('light').classList.remove('text-warning');
                capNhatTrangThai('OFF');
            }
            else {
                document.getElementById('light').classList.add('text-warning');
                capNhatTrangThai('ON');
            }
            
        }
   
    function capNhatTrangThai(status){
        axios({
                url:'https://iotk13-a7260.firebaseio.com/.json',
                method:'PATCH',
                data: {
                    led_status: status
                }
            }).then((res)=>{
                console.log(res);
    
            }).catch((err)=>{
                console.log(err);
            });
    }
    function docGiatri(){
        axios({
                url:'https://iotk13-a7260.firebaseio.com/.json',
                method:'GET',
                

            }).then((res)=>{
                //console.log(res.data);
                if(res.data.led_status=='ON')
                {
                    if(!document.getElementById('light').classList.contains('text-warning'))
                    {
                        document.getElementById('light').classList.add('text-warning');
                    }
                }
                if(res.data.led_status=='OFF')
                {
                    if(document.getElementById('light').classList.contains('text-warning'))
                    {
                        document.getElementById('light').classList.remove('text-warning');
                    }
                }
            }).catch((err)=>{
                console.log(err);
            });
    }
    document.getElementById('btnCapNhat').onclick=function(){
        docGiatri();
    }*/
    </script>
    
    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyBSGJNUjFSVu5OFs1PEG4ZUtVq4vUJXr4Q",
    authDomain: "iotk13-46c1e.firebaseapp.com",
    databaseURL: "https://iotk13-46c1e.firebaseio.com",
    projectId: "iotk13-46c1e",
    storageBucket: "iotk13-46c1e.appspot.com",
    messagingSenderId: "122406190139",
    appId: "1:122406190139:web:436d7099d87e462406301e",
    measurementId: "G-LQJ5E6MPXF"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  var starCountRef = firebase.database().ref();
    starCountRef.on('value', function(snapshot) {
        // updateStarCount(postElement, snapshot.val());
        console.log(snapshot.val().led_status);
       /* if(snapshot.val().led_status=='ON')
                {
                    if(!document.getElementById('light').classList.contains('text-warning'))
                    {
                        document.getElementById('light').classList.add('text-warning');
                    }
                }
        if(snapshot.val().led_status=='OFF')
                {
                    if(document.getElementById('light').classList.contains('text-warning'))
                    {
                        document.getElementById('light').classList.remove('text-warning');
                    }
                }*/
    });
</script>
</body>

</html>